## Network Starter Pack - 2 - Data Link - Part 2 ##
### Layer 2 - Data Link - CSMA/CD
#### Continuation from Part 1: 2 devices running a game; left & right laptop connected using a network cable (shared physical medium)
**Review**
* Layer 2 uses Layer 1 & needs it in place & working for Layer 2 network to be active
* now both laptops' networking stack (networking software layers) have working Layer 1 & Layer 2 network
* Game communication: uses Layer 2 network (each device now has MAC address: hardware address for each network interface card)

**Transmitting Data: game on left laptop wants to send something to game on right laptop**
* Starting point: left laptops's Layer 2 software creates Ethernet frame (F1); left laptop knows MAC address of right laptop
* right laptop's MAC address (ending in 5b:76) is in F1's destination MAC address field
* F1's payload contains the data to send to game on right laptop

**CSMA (Carrier Sense, Multiple Access)**
* function: sense a carrier signal (seen on layer 1 network when any other network device is transmitting at that point in time)
* how it works: starting from left laptop's networking stack with Ethernet Frame (F1)
  1. Layer 2 is communicating with Layer 1; Layer 2 is looking for any signs of carrier signal on the Layer 1 network
  2. Layer 2 passes F1 to Layer 1 when it doesn't sense a carrier; Layer 1 simply sees F1 as a block of data to transmit
  3. Right laptop's layer 1 software receives raw bitstream transmitted onto the medium by left laptop & passes it to Layer 2
  4. Layer 2 software analyzes F1's destination MAC address field & sees right laptop's MAC address ("I'm the destination!")
  5. Layer 2 can now pass the data contained in F1's payload to the game
 ![Layer 2: Game Example - CSMA](https://i.postimg.cc/HsvwMktW/image12.png)
* shows how game communication can work using Layer 2: 
  1. uses Layer 1 to transmit & receive raw data
  2. adds MAC addressing on top of Layer 1: allowing for device-to-device communication & adding media access control
* Ethernet frame can be transmitted onto shared physical medium by layer 1 
* layer 1 handles conversion to voltages,light,or RF -> sent across the medium, received by other devices connected to shared medium
* layer 1 doesn't understand the frame itself (simply transmits raw data onto the physical medium)

**Parts of a Frame** 
* (1) Preamble & Start Frame Delimiter (SFD): allows devices to know where the start of the frame is
* (2) Destination & Source MAC addresses: the MAC address in destination & source field of the frame
  * MAC address in destination MAC address field specifies network device a frame can be sent to & MAC address in source MAC address field is device MAC address of the device transmitting the frame 
  * NOTE: inserting all F's into destination MAC address field sends a frame to all devices on local network (broadcast) & inserting a device's MAC address into source MAC address field allows the device to receive replies 
* (3) EtherType (ET): specfies which Layer 3 protocol is putting its data inside a frame (might be IP or Internet Protocol)
  * Layer 3 uses Layer 2 frames for device-to-device communication on a local network like Layer 2 uses Layer 1 to transmit raw bit streams across a shared physical medium
  * why a device receiving a frame at the other side of the communication, needs to know which Layer 3 protocol originally put its data inside that frame
* together, destination & source MAC address, & EtherType fields commonly known as MAC header
  * indicates the frame destination, source, & specifies its function
![Layer 2: MAC Header, Payload, & CRC Example](https://i.postimg.cc/Y9HYvN5C/image9.png)
* (4) Payload: contains data the frame is sending (generally provided by layer 3 protocol specified in EtherType field)
  * 46-1500 bytes in size for standard frames
* encapsulation: allows devices to put information inside something to be analyzed & extracted at other side of communication
  * example: Layer 3 generates an IP packet, puts it inside an Ethernet frame, & the frame delivers this data to a Layer 2 destination
    * at destination side, frame is analyzed, Layer 3 packet is extracted & given back to Layer 3
    * EtherType field determines which Layer 3 protocol receives this Layer 3 packet at destination side
* (5) Frame Check Sequence (FCS): identifies any errors in the frame via a simple CRC check (destination side checks for corruption)

Summary: device to device communication
* Layer 2 frames generated by Layer 2 software at source side are passed to Layer 1 (raw data transmitted onto the physical medium)
* at destination side, raw data taken off physical medium, passed to Layer 2 software (interprets the frame)
* frame passed to Layer 3 (interprets the data inside frame's payload) 

**_Scenario:_** 2 devices running a game; left & right laptop connected using a network cable (shared physical medium)
* Layer 1 software running on a network card simply transmits any data it receives onto the physical medium (no media access control)
* Layer 2 provides controlled access to the physical medium (solves problem of both laptops sending data at the same time)
  * NOTE: electrical signals overlapping & interfering with each other result in a collision, corrupting both pieces of data
![Layer 2: Game Example - Collision](https://i.postimg.cc/cLCKkmNF/image10.png)
